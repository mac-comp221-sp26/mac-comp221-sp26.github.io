<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>Activity: Quicksort and Partitioning · COMP 221 - Overview &amp; Schedule</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="Course Website for Macalester MSCS's COMP 221 offered Spring 2026."><meta name="generator" content="Jekyll (using style of GitBook)"><link rel="stylesheet" href="/assets/gitbook/style.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-fontsettings/website.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-search-pro/search.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-splitter/splitter.css">
<link rel="stylesheet" href="/assets/css/base.css">
<link rel="stylesheet" href="/assets/css/pseudocode.css">

<link rel="stylesheet" href="/assets/gitbook/custom.css">
<link rel="stylesheet" href="/assets/gitbook/custom-local.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/" type="image/x-icon">




            <link rel="prev" href="/pages/ActivityMT/" />
        

        
            <link rel="next" href="/pages/ActivitySort/" />
        
    </head>
    <body>
        <div class="book"><div class="book-summary">
    <script type="text/javascript">
        // Fixes the page links scroll problem on both desktop and mobile browsers
        function pageScrollToTop(element) {
            // both mobile and non-mobile
            $('div.body-inner').animate({scrollTop: 0});
            $(element).parent().find('li>ul>li').removeClass('active');
            return true;  // propagate
        }
        // Fixes the anchor links scroll problem on mobile browsers
        function mobilePageScrollToAnchor(element) {
            $(element).closest('li.chapter').find('ul>li').removeClass('active');
            $(element).parent().addClass('active');
            if ($(document).width() <= 1240) {
                let target = $($(element).attr('href'));
                if (target.length) {
                    $('div.body-inner').animate({
                        scrollTop: target.get(0).offsetTop,
                    });
                }
            }
            return true;
        }
    </script>

    <nav role="navigation">
        <div id="book-search-input" role="search">
            <input type="text" placeholder="Type to search" />
        </div>
        <div id="book-search-input-link" role="search">
            <a href="/assets/search.html">Click to Search</a>
        </div>
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="">
            
                <a href="/" onclick="pageScrollToTop(this)">
                    COMP 221 - Overview &amp; Schedule
                </a>
                
                    
                
            </li>

            <li class="divider"></li>

            
                
                    <!-- <p>pages</p> -->
                    
                        

                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/Activity08/">
                            
                                <a href="/pages/Activity08/" onclick="pageScrollToTop(this)">
                                    Activity: Sorting as Pre-Processing
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityBS/">
                            
                                <a href="/pages/ActivityBS/" onclick="pageScrollToTop(this)">
                                    Activity: Binary Search Variants
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityDP1/">
                            
                                <a href="/pages/ActivityDP1/" onclick="pageScrollToTop(this)">
                                    Activity: Dynamic Programming Practice
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityDP2/">
                            
                                <a href="/pages/ActivityDP2/" onclick="pageScrollToTop(this)">
                                    Activity: Dynamic Programming Practice 2
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityDS/">
                            
                                <a href="/pages/ActivityDS/" onclick="pageScrollToTop(this)">
                                    Activity: Data Structure Review
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityHS/">
                            
                                <a href="/pages/ActivityHS/" onclick="pageScrollToTop(this)">
                                    Activity: Heap- &amp; TreeSort
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityLoopInv/">
                            
                                <a href="/pages/ActivityLoopInv/" onclick="pageScrollToTop(this)">
                                    Activity: Sorting and Loop Invariants
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivityMT/">
                            
                                <a href="/pages/ActivityMT/" onclick="pageScrollToTop(this)">
                                    Activity: The Master Theorem
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter active" data-level="1.2" data-path="/pages/ActivityQS/">
                            
                                <a href="/pages/ActivityQS/" onclick="pageScrollToTop(this)">
                                    Activity: Quicksort and Partitioning
                                </a>
                                
                                    
                                        <ul><li><a href="#learning-goals" onclick="mobilePageScrollToAnchor(this)" >Learning Goals</a></li><li><a href="#warm-up" onclick="mobilePageScrollToAnchor(this)" >Warm-Up</a></li><li><a href="#instructions" onclick="mobilePageScrollToAnchor(this)" >Instructions</a></li></ul>

                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/ActivitySort/">
                            
                                <a href="/pages/ActivitySort/" onclick="pageScrollToTop(this)">
                                    Activity: Big-O Practice &amp; Sorting 1
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/GraphApplications/">
                            
                                <a href="/pages/GraphApplications/" onclick="pageScrollToTop(this)">
                                    Graph Applications
                                </a>
                                
                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/pages/LoopInvariants/">
                            
                                <a href="/pages/LoopInvariants/" onclick="pageScrollToTop(this)">
                                    Loop Invariants and Asserts in Code
                                </a>
                                
                                    
                                
                            </li>
                        

                        
                            <li class="divider"></li>
                        
                    
                
                    <!-- <p>posts</p> -->
                    
                        

                        

                        
                    
                
            
        </ul>
    </nav>
</div>
<div class="book-body">
                <div class="book-header" role="navigation">
                    <!-- Title -->
                    <h1>
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                        
                            <a href="." >Activity: Quicksort and Partitioning</a>
                        
                    </h1>
                </div>

                <div class="body-inner"><div class="page-wrapper" tabindex="-1" role="main">
    

    <div class="page-inner">
        <div id="book-search-results">
            <div class="search-noresults">
                <section class="normal markdown-section">
                    
                        <h1 id="/pages/ActivityQS">Activity: Quicksort and Partitioning</h1>
                    

                    <h2 id="learning-goals">Learning Goals</h2>

<p>You will work towards being able to…</p>

<ol>
  <li>
    <p>Understanding the behavior of common algorithms (quicksort)</p>
  </li>
  <li>
    <p>Implement common algorithms (quicksort)</p>
  </li>
</ol>

<h2 id="warm-up">Warm-Up</h2>

<ol>
  <li>As a group, walk through a few examples of the partitioning algorithm you saw in the reading. Construct a few random arrays and step through the code line-by-line to understand how the array is structured and maintained throughout. With an array of fixed size $n$ and fixed elements, which permutation of the array is best? Which is worst?</li>
</ol>

<h2 id="instructions">Instructions</h2>
<p>Work with your groups on the following problems:</p>

<ol>
  <li>
    <p>Based on our sketch of the proof of correctness for quicksort in lecture, define correctness for the partition algorithm and construct a proof of correctness for the partition algorithm. Feel free to sketch things out (Find the right loop invariant, etc.) while you’re with your group and fill out details on your own.</p>
  </li>
  <li>
    <p>Bonus: This partitioning algorithm isn’t the only (or most efficient, or even first) partitioning algorithm for quicksort. However, this version (called the <em>Lomuto</em> scheme) is generally regarded as a simpler, easier to implement version that doesn’t sacrifice asymptotic time complexity. The other common scheme, the <em>Hoare</em> scheme, is faster, but more complex. It’s also clever in a very <em>intro algorithms</em> sort of way, so it may be worth seeing the trick!</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>partition(A, low, high):
    pivot &lt;- A[low]
    i &lt;- low
    j &lt;- high
    While True
        while A[i] &lt; pivot:
            i &lt;- i + 1

        while A[j] &gt; pivot:
            j &lt;- j - 1
        
        if j &lt;= i:
            Return j
        Swap(A[i], A[j])
        
        i &lt;- i + 1
        j &lt;- j - 1
</code></pre></div></div>
<p>Here the idea is to move two indices from the edges toward the center until we find an element on the left that should be on the right and an element on the right that should be on the left. If that happens, we swap them! When the two indices cross, we swap them. Work through a few array with this partition algorithm until you can convince yourself it partitions in a way that can be used to implement quicksort. Note that the pivot isn’t even ending up at the returned index!</p>

<p>As a bonus, you can probably find a bug in my pseudocode above. This version is notoriously tricky! Here’s a quote from Jon Bentley’s <em>Programming Pearls</em>:</p>
<blockquote>
  <p>“Most discussions of Quicksort use a partitioning scheme based on two approaching indices… (i.e. Hoare’s). Although the basic idea of that scheme is straightforward, I have always found the details tricky - I once spent the better part of two days chasing down a bug hiding in a short partitioning loop. A reader of a preliminary draft complained that the standard two-index method is in fact simpler than Lomuto’s and sketched some code to make his point; I stopped looking after I found two bugs.”</p>
</blockquote>

<h4 id="submission">Submission</h4>
<p>Submit an artifact of your work from 1 and 2.</p>

</section>
            </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div></div>
    </div>
</div>

<!-- introduce mathjax support -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [ ['$', '$'], ['\\(', '\\)'] ]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script
  type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>


<!-- introduce per-page mermaid support -->


<!-- introduce mathjax support -->
<script>
    function fixes_chrome_anchors() {
        let chrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
        if (window.location.hash && chrome) {
            setTimeout(function () {
                var hash = window.location.hash;
                window.location.hash = "";
                window.location.hash = hash;
            }, 300);
        }
    }

    if (document.readyState === "loading") {
        // Loading hasn't finished yet
        document.addEventListener("DOMContentLoaded", fixes_chrome_anchors);
    } else {
        // `DOMContentLoaded` has already fired
        fixes_chrome_anchors();
    }
</script>


                        <a href="/pages/ActivityMT/" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Activity: The Master Theorem">
                            <i class="fa fa-angle-left"></i>
                        </a>
                    

                    
                        <a href="/pages/ActivitySort/" class="navigation navigation-next navigation-unique" aria-label="Next page: Activity: Big-O Practice & Sorting 1">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    
                </div>
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "next": {
            "title": "Activity: Big-O Practice & Sorting 1",
            "level": "1.2",
            "depth": 1,
            "path": "_pages/ActivitySort.markdown",
            "ref": "_pages/ActivitySort.markdown",
            "articles": []
        },
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "expandable-chapter-small2": {
                "articlesExpand": true,
            },
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},            "sharing": {
                "facebook": false,

                "google": false,

                "github": true,
              
                "github_link": "https://github.com/mac-comp221-sp26",
              

                "telegram": false,
                "telegram_link": "https://t.me",

                "instapaper": false,

                "twitter": false,
              

                "vk": false,

                "weibo": false,

                "all": ["facebook", "google", "twitter", "weibo", "instapaper", "github", "telegram"]
            },
"theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            },
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "COMP 221 - Overview & Schedule",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "_pages/ActivityQS.markdown",
        "mtime": "2026-02-13 16:20:35 -0600",
        "type": "markdown"
    },
    "gitbook": {
        "version": "",
        "time": "2026-02-13 16:20:35 -0600"
    },
    "basePath": "",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/assets/gitbook/gitbook.js"></script>
<script src="/assets/gitbook/theme.js"></script>

<script src="/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
<script src="/assets/gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
<script src="/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.js"></script>
<script src="/assets/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
<script src="/assets/gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
<script src="/assets/gitbook/gitbook-plugin-search-pro/search.js"></script>
<script src="/assets/gitbook/gitbook-plugin-sharing/buttons.js"></script>
<script src="/assets/gitbook/gitbook-plugin-splitter/splitter.js"></script>

<!--
<script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script>
-->

<script src="/assets/gitbook/custom.js"></script>
<script src="/assets/gitbook/custom-local.js"></script>

</body>
</html>