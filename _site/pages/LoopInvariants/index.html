<p>When learning about loop invariants, it may be helpful to see how they correspond to their equivalent <code class="language-plaintext highlighter-rouge">assert</code>-ions in code. That’s what this document aims to do, in Python (the closest thing to pseudocode one can get!).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span> <span class="c1"># This gives us real arrays in Python
</span></code></pre></div></div>

<p>First, let’s implement insertion sort as close to our pseudocode as possible:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">insertionSort</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="n">j</span> <span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">i</span>
        <span class="nf">while </span><span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span> 
            <span class="c1"># Swap!
</span>            <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
            <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>Now let’s spot check that the algorithm works on some input:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Before:</span><span class="se">\t\t</span><span class="sh">"</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="nf">insertionSort</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">After:</span><span class="se">\t\t</span><span class="sh">"</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Before:		 [5 4 3 2 1]
After:		 [1 2 3 4 5]
</code></pre></div></div>

<p>Good!</p>

<p>Now, our goal is to determine the reality of our loop invariant, so we must inspect the behavior of the algorithm on every loop iteration. We ask ourselves: <em>How does this algorithm make progress in each iteration of the loop?</em> Additionally, <em>How can I formally declare that progress is being made?</em></p>

<p>Let’s add a print statement to track the state of the array after each iteration of the outer for-loop to take a look:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">insertionSort</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="n">j</span> <span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">i</span>
        <span class="nf">while </span><span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span> 
            <span class="c1"># Swap!
</span>            <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
            <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">At i = {},</span><span class="se">\t</span><span class="s"> {}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Worst-case input!
</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Before:</span><span class="se">\t\t</span><span class="sh">"</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="nf">insertionSort</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">After:</span><span class="se">\t\t</span><span class="sh">"</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Before:		 [5 4 3 2 1]
At i = 1,	 [4 5 3 2 1]
At i = 2,	 [3 4 5 2 1]
At i = 3,	 [2 3 4 5 1]
At i = 4,	 [1 2 3 4 5]
After:		 [1 2 3 4 5]
</code></pre></div></div>

<p>Now, inspect the output and…</p>

<h3 id="li-1-construct-a-statement-pn-that-is-true-after-the-iteration-where-in">LI 1: Construct a statement $P(n)$ that is true after the iteration where $i=n$</h3>

<p>That is an <em>invariant</em> that is true after every <em>loop</em> iteration: A <strong>Loop Invariant!</strong>. Here, we note that we’re building a <em>sorted subarray from the left edge that grows with each step: *After iteration $i$, <code class="language-plaintext highlighter-rouge">arr[i]</code> is sorted</em>.</p>

<p>Now to show that this loop invariant is true, we have to understand that insertion operation happening in each iteration. It’s helpful to decompose our insertion sort into two pieces: The part the performs the insert and the loop that repeatedly inserts. Let’s rewrite with this decomposition and more print statements:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">,</span> <span class="n">i</span> <span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s"> inserts arr[i] into it</span><span class="sh">'</span><span class="s">s sorted position in arr[:i+1]

    Precondition: arr[:i] is sorted
    Postcondition: arr[:i+1] is sorted </span><span class="sh">"""</span>

    <span class="n">j</span> <span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">i</span> <span class="c1"># preserve the value of i 
</span>    
    <span class="nf">while </span><span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span> 
        <span class="c1"># Swap!
</span>        <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
        <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\t</span><span class="s"> After j = {}, </span><span class="se">\t</span><span class="s"> arr[:i+1] = </span><span class="se">\t</span><span class="s">{}</span><span class="sh">"</span>
              <span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">arr</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]))</span>

<span class="k">def</span> <span class="nf">insertionSort</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">i = {}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="nf">insert</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">After i = {},</span><span class="se">\t\t</span><span class="s"> arr = </span><span class="se">\t\t</span><span class="s">{}</span><span class="sh">"</span>
              <span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Worst-case input!
</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Before:</span><span class="se">\t\t\t\t\t</span><span class="s">{}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
<span class="nf">insertionSort</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">After:</span><span class="se">\t\t\t\t\t</span><span class="s">{}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Before:					[5 4 3 2 1]

i = 1
	 After j = 0, 	 arr[:i+1] = 	[4 5]

After i = 1,		 arr = 		[4 5 3 2 1]

i = 2
	 After j = 1, 	 arr[:i+1] = 	[4 3 5]
	 After j = 0, 	 arr[:i+1] = 	[3 4 5]

After i = 2,		 arr = 		[3 4 5 2 1]

i = 3
	 After j = 2, 	 arr[:i+1] = 	[3 4 2 5]
	 After j = 1, 	 arr[:i+1] = 	[3 2 4 5]
	 After j = 0, 	 arr[:i+1] = 	[2 3 4 5]

After i = 3,		 arr = 		[2 3 4 5 1]

i = 4
	 After j = 3, 	 arr[:i+1] = 	[2 3 4 1 5]
	 After j = 2, 	 arr[:i+1] = 	[2 3 1 4 5]
	 After j = 1, 	 arr[:i+1] = 	[2 1 3 4 5]
	 After j = 0, 	 arr[:i+1] = 	[1 2 3 4 5]

After i = 4,		 arr = 		[1 2 3 4 5]
After:					[1 2 3 4 5]
</code></pre></div></div>

<h3 id="li-2-construct-a-statement-pn-that-is-true-after-the-iteration-where-jn-for-a-fixed-i">LI 2: Construct a statement $P(n)$ that is true after the iteration where $j=n$ (for a fixed $i$)</h3>

<p>Create <em>another</em> loop invariant for a call to <code class="language-plaintext highlighter-rouge">insert</code>!</p>

<p>After the iterations where $j=n$, we have that <code class="language-plaintext highlighter-rouge">arr[j:i+1]</code> is sorted! But this isn’t all (as we’ve seen in the proof of correctness): we know that <code class="language-plaintext highlighter-rouge">arr[1:j]</code> is also sorted (it began sorted and hasn’t been touched!), and we know that all elements in <code class="language-plaintext highlighter-rouge">arr[1:j]</code> are less than elements in <code class="language-plaintext highlighter-rouge">arr[j+1:i+1]</code> (these are the elements of the initially sorted subarray we moved to the right of the element we’re inserting!).</p>

<p>All we’ve done is inspect a couple of outputs of the algorithm to make a claim about the code (namely, we claim that our two loop invariants hold!). This is identical to the process to arrive at the claims we make about the pseudocode, except instead of working through examples by hand, we’re running through real code!</p>

<p>One fun thing that we can do in code is <em>enforce</em> our loop invariants through programming constructs like <code class="language-plaintext highlighter-rouge">assert</code>, which will throw an error if it’s argument evaluates to <code class="language-plaintext highlighter-rouge">false</code>. Here is one way of encoding our loop invariant into code:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isSorted</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">,</span> <span class="n">i</span> <span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span> <span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s"> Returns True if arr[i:j+1] (i.e., A[i...j]) is sorted.
    </span><span class="sh">"""</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span> <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">def</span> <span class="nf">arrSmaller</span><span class="p">(</span><span class="n">arr1</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">,</span> <span class="n">arr2</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">arr1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">arr2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="n">e</span><span class="p">:</span> <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">,</span> <span class="n">i</span> <span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s"> inserts arr[i] into it</span><span class="sh">'</span><span class="s">s sorted position in arr[:i+1]

    Precondition: arr[:i] is sorted
    Postcondition: arr[:i+1] is sorted 
    </span><span class="sh">"""</span>

    <span class="n">j</span> <span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">i</span> <span class="c1"># preserve the value of i 
</span>    
    <span class="nf">while </span><span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span> 
        <span class="c1"># Swap!
</span>        <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
        <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="nf">assert </span><span class="p">(</span><span class="nf">isSorted</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> 
                <span class="nf">isSorted</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="ow">and</span>
                <span class="nf">arrSmaller</span><span class="p">(</span><span class="n">arr</span><span class="p">[:</span><span class="n">j</span><span class="p">],</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])),</span> <span class="sh">"</span><span class="s">Insert LI False</span><span class="sh">"</span> 

<span class="k">def</span> <span class="nf">insertionSort</span><span class="p">(</span><span class="n">arr</span> <span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="nf">insert</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nf">isSorted</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="sh">"</span><span class="s">insertionSort LI False</span><span class="sh">"</span> 
</code></pre></div></div>

<p>And now we can show that these invariants are true for our sample (worst-case) input of length 5.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Worst-case input!
</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Before:</span><span class="se">\t\t</span><span class="sh">"</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="nf">insertionSort</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">After:</span><span class="se">\t\t</span><span class="sh">"</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Before:		 [5 4 3 2 1]
After:		 [1 2 3 4 5]
</code></pre></div></div>

<p>However, we can’t show that our loop invariant holds true for all inputs (for the same reason that testing can’t show that our algorithm is <em>correct</em> on all inputs through testing). We can, however, convince ourselves that it holds true for a random sample of inputs: Here we have our 2 LI asserts + a correctness assert going for 10 random arrays for each array size from 2 to 100: We get no assert failures!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">):</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">rand</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="nf">insertionSort</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
        <span class="nf">assert </span><span class="p">(</span><span class="nf">isSorted</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">A</span><span class="p">))),</span> <span class="sh">"</span><span class="s">Sorting Failed</span><span class="sh">"</span>
</code></pre></div></div>

<p>But we should convince ourselves that <code class="language-plaintext highlighter-rouge">assert</code> does actually do something!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">assert</span> <span class="nf">isSorted</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="sh">"</span><span class="s">This error message should appear</span><span class="sh">"</span>
</code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">---------------------------------------------------------------------------

AssertionError                            Traceback (most recent call last)

Cell In[48], line 2
      1 A = np.array([5,4,3,2,1])
</span><span class="gp">----&gt;</span><span class="w"> </span>2 assert isSorted<span class="o">(</span>A,0, 4<span class="o">)</span>, <span class="s2">"This error message should appear"</span>
<span class="go">

AssertionError: This error message should appear
</span></code></pre></div></div>

<p>And it does! The error message appears!</p>
